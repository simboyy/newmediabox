{"version":3,"sources":["api/sendmail/index.js"],"names":["express","require","email","nodemailer","sgTransport","router","Router","post","req","res","options","auth","api_key","process","env","SENDGRID_APIKEY","mailer","createTransport","sendMail","body","error","info","status","json","err","success","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,QAAQD,QAAQ,QAAR,CAAZ;AACA,IAAIE,aAAaF,QAAQ,YAAR,CAAjB;AACA,IAAIG,cAAcH,QAAQ,+BAAR,CAAlB;;AAEA,IAAII,SAASL,QAAQM,MAAR,EAAb;AACAD,OAAOE,IAAP,CAAY,GAAZ,EAAiB,UAASC,GAAT,EAAcC,GAAd,EAAkB;AAC/B,QAAIC,UAAU;AACVC,cAAM;AACFC,qBAASC,QAAQC,GAAR,CAAYC;AADnB;AADI,KAAd;;AAMA,QAAIC,SAASb,WAAWc,eAAX,CAA2Bb,YAAYM,OAAZ,CAA3B,CAAb;AACAM,WAAOE,QAAP,CAAgBV,IAAIW,IAApB,EAA0B,UAASC,KAAT,EAAgBC,IAAhB,EAAqB;AAC3C,YAAGD,KAAH,EAAS;AACLX,gBAAIa,MAAJ,CAAW,KAAX,EAAkBC,IAAlB,CAAuB,EAACC,KAAKJ,KAAN,EAAvB;AACH,SAFD,MAEK;AACDX,gBAAIa,MAAJ,CAAW,KAAX,EAAkBC,IAAlB,CAAuB,EAACE,SAAS,IAAV,EAAvB;AACH;AACJ,KAND;AAOH,CAfD;;AAiBAC,OAAOC,OAAP,GAAiBtB,MAAjB","file":"index.js","sourcesContent":["'use strict';\n\nvar express = require('express');\nvar email = require('./send');\nvar nodemailer = require('nodemailer');\nvar sgTransport = require('nodemailer-sendgrid-transport');\n\nvar router = express.Router();\nrouter.post('/', function(req, res){\n    var options = {\n        auth: {\n            api_key: process.env.SENDGRID_APIKEY\n        }\n    }\n\n    var mailer = nodemailer.createTransport(sgTransport(options));\n    mailer.sendMail(req.body, function(error, info){\n        if(error){\n            res.status('400').json({err: error});\n        }else{\n            res.status('200').json({success: true});\n        }\n    })\n});\n\nmodule.exports = router;\n"]}